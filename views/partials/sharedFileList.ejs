<% if (files.length === 0) { %>
<p class="text-gray-500 italic">No files here yet.</p>
<% } else { %>
<div
  class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-6"
>
  <% files.forEach(file => { %>
  <div
    class="bg-white shadow-md rounded-xl p-4 hover:shadow-lg transition group"
  >
    <div class="flex flex-col items-center text-center space-y-2">
      <% if (file.mimeType.startsWith("image/")) { %>
      <img
        src="<%= file.url %>"
        alt="<%= file.name %>"
        class="rounded-md max-h-32 object-cover"
      />
      <% } else { %>
      <img
        src="/img/fileIcon.png"
        alt=""
        class="max-h-32 rounded-md object-cover"
      />
      <% } %>
      <div class="text-sm truncate w-full">
        <p class="font-medium truncate"><%= file.name %></p>
        <p class="text-gray-400 text-xs">
          <%= (file.size / 1024).toFixed(1) %> KB
        </p>
      </div>
      <a
        href="<%= file.url %>"
        download
        class="inline-block mt-2 text-indigo-600 text-xs font-medium hover:underline"
        >Download</a
      >
    </div>
  </div>
  <% }) %>
</div>
<% } %>
